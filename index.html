<!doctype html>
<html lang="pt-br" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Apresentador de Anatomia - Prof. Cl√°udia Pinheiro</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; width: 100%; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
      color: #fff; overflow: hidden; 
    }
    .app-wrapper { display: flex; flex-direction: column; height: 100%; width: 100%; }
    .header { background: rgba(48, 43, 99, 0.8); padding: 1.2rem; border-bottom: 2px solid #64b5f6; text-align: center; }
    .title { font-size: clamp(1.5rem, 4vw, 2.2rem); font-weight: 700; color: #64b5f6; text-shadow: 0 0 15px rgba(100, 181, 246, 0.5); }
    .content { flex: 1; display: flex; align-items: center; justify-content: center; padding: 2rem; position: relative; }
    .slide-container { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.2); border-radius: 20px; border: 2px solid rgba(100, 181, 246, 0.3); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4); overflow: hidden; }
    .slide-image { max-width: 100%; max-height: 100%; object-fit: contain; border-radius: 10px; animation: slideIn 0.5s ease-out; }
    @keyframes slideIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    .controls { display: flex; align-items: center; justify-content: center; gap: 1.5rem; padding: 1.5rem; background: rgba(48, 43, 99, 0.9); border-top: 2px solid #64b5f6; flex-wrap: wrap; }
    .btn { background: #42a5f5; color: white; padding: 0.8rem 1.5rem; border-radius: 25px; font-weight: bold; cursor: pointer; border: none; transition: 0.3s; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
    .btn:hover:not(:disabled) { transform: translateY(-3px); background: #2196f3; box-shadow: 0 6px 20px rgba(100, 181, 246, 0.6); }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .btn-voice-active { background: #4caf50 !important; }
    .btn-voice-inactive { background: #ff9800 !important; }
    
    /* Panel de Notas */
    .notes-panel { 
      position: fixed; right: -420px; top: 0; width: 420px; height: 100%; 
      background: rgba(15, 12, 41, 0.95); border-left: 2px solid #b366ff;
      transition: 0.4s ease; z-index: 1000; display: flex; flex-direction: column;
      backdrop-filter: blur(20px); box-shadow: -8px 0 32px rgba(0, 0, 0, 0.5);
    }
    .notes-panel.active { right: 0; }
    .notes-header { padding: 1.5rem; border-bottom: 1px solid rgba(100, 181, 246, 0.4); display: flex; justify-content: space-between; align-items: center; background: rgba(100, 181, 246, 0.1); }
    .notes-header h3 { font-size: 1.1rem; color: #64b5f6; }
    .notes-close { color: #64b5f6; background: none; border: none; cursor: pointer; font-size: 1.5rem; transition: 0.2s; }
    .notes-close:hover { color: #42a5f5; }
    #notes-text { flex: 1; background: rgba(15, 12, 41, 0.9); color: #fff; padding: 1.5rem; border: none; outline: none; resize: none; font-size: 0.95rem; border-top: 1px solid rgba(100, 181, 246, 0.2); font-family: 'Segoe UI', sans-serif; line-height: 1.6; }
    #notes-text::placeholder { color: rgba(255, 255, 255, 0.4); }
    .notes-buttons { padding: 1.2rem; display: flex; gap: 8px; flex-wrap: wrap; background: rgba(100, 181, 246, 0.05); border-top: 1px solid rgba(100, 181, 246, 0.2); }
    .notes-btn { flex: 1; min-width: 110px; padding: 0.7rem; font-size: 0.8rem; border-radius: 20px; border: none; cursor: pointer; font-weight: 600; transition: 0.3s; color: white; }
    .notes-btn-primary { background: #b366ff; }
    .notes-btn-primary:hover { background: #9d4edd; transform: translateY(-2px); }
    .notes-btn-success { background: #4caf50; }
    .notes-btn-success:hover { background: #45a049; transform: translateY(-2px); }
    .notes-btn-danger { background: #f44336; }
    .notes-btn-danger:hover { background: #da190b; transform: translateY(-2px); }

    .slide-info { display: flex; align-items: center; gap: 0.5rem; }
    .progress-bar { width: 200px; height: 8px; background: rgba(100, 181, 246, 0.2); border-radius: 5px; overflow: hidden; border: 1px solid rgba(100, 181, 246, 0.4); }
    .progress-fill { height: 100%; background: linear-gradient(90deg, #ffc107, #ff9800); width: 0%; transition: 0.4s; }
    .placeholder { display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(100, 200, 255, 0.1), rgba(255, 100, 200, 0.1)); border-radius: 12px; font-size: 1.2rem; color: #a0c4ff; }

    @media (max-width: 768px) {
      .notes-panel { width: 80vw; right: -80vw; }
      .controls { gap: 0.8rem; }
      .btn { padding: 0.6rem 1rem; font-size: 0.85rem; }
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body>
  <div class="app-wrapper">
   <div class="header">
    <h1 class="title" id="presentation-title">Introdu√ß√£o √† Anatomia Humana</h1>
   </div>
   <div class="content">
    <div class="slide-container" id="slide-container">
     <div class="placeholder">
      <div style="font-size: 3rem; margin-bottom: 1rem;">
       üìä
      </div>
      <div>
       Carregando slide...
      </div>
     </div>
    </div>
   </div>
   <div class="controls"><button class="btn" id="prev-btn" onclick="previousSlide()">‚Üê Anterior</button>
    <div class="slide-info"><span id="slide-num" style="font-weight:bold;">1 / 37</span>
    </div>
    <div class="progress-bar">
     <div class="progress-fill" id="progress-fill"></div>
    </div><button class="btn" style="background:#9c27b0" onclick="toggleNotes()">üìù Notas</button> <button class="btn btn-voice-inactive" id="voice-btn" onclick="toggleVoice()">üé§ Voz</button> <button class="btn" id="next-btn" onclick="nextSlide()">Pr√≥ximo ‚Üí</button>
   </div>
  </div><!-- Panel de Notas -->
  <div class="notes-panel" id="notes-panel">
   <div class="notes-header">
    <h3>üìù Notas - Slide <span id="note-num">1</span></h3><button class="notes-close" onclick="toggleNotes()">‚úï</button>
   </div><textarea id="notes-text" placeholder="Escreva suas observa√ß√µes ou extraia o texto do slide..."></textarea>
   <div class="notes-buttons"><button class="notes-btn notes-btn-primary" onclick="extractText()">üìÑ Extrair</button> <button class="notes-btn notes-btn-success" onclick="downloadPDF()">üì• PDF</button> <button class="notes-btn notes-btn-danger" onclick="clearNotes()">üóëÔ∏è Limpar</button>
   </div>
  </div>
  <script>
    let currentSlide = 1;
    const totalSlides = 37;
    let voiceActive = false;
    let recognition = null;
    let config = { presentation_title: 'Introdu√ß√£o √† Anatomia Humana' };
    const defaultConfig = { presentation_title: 'Introdu√ß√£o √† Anatomia Humana' };

    // Dados dos slides com transcri√ß√µes completas
    const slideData = {
      1: { text: "Introdu√ß√£o a Anatomia humana. Professora: Claudia Pinheiro.", links: [{ label: "üìÖ Cronograma", url: "https://pinheiro767.github.io/Turma-seg-2026/", color: "#ff9800" }] },
      2: { text: "A Anatomia √© uma das mais antigas ci√™ncias m√©dicas b√°sicas: foi estudada formalmente pela primeira vez no Egito (aproximadamente 500 a.C.)." },
      3: { text: "Galeno (S√©c. II e III, Imp√©rio Romano): Primeiro anatomista do mundo. Tinha experi√™ncia apenas em disseca√ß√£o de porcos, macacos e outros animais." },
      4: { text: "Andreas Vesalius (1514-1564): Pai da Anatomia Moderna, √≠cone da Renascen√ßa. Seus estudos atrav√©s da disseca√ß√£o de corpos humanos avan√ßaram significativamente em rela√ß√£o aos de Galeno." },
      5: { text: "Ressurrecionistas: Passaram s√©culos desenterrando corpos de t√∫mulos para revend√™-los a estudiosos." },
      6: { text: "Mortsafes: Grades colocadas sobre os t√∫mulos para evitar o roubo de corpos." },
      7: { text: "William Burke e William Hare: Dupla que eliminava v√≠timas em Edimburgo para lucrar vendendo os corpos para anatomistas." },
      8: { text: "Etimologia: Anatomia (Grego 'Anatome' - corte atrav√©s de) e Disseca√ß√£o (Latim 'Dis secare' - cortar separado)." },
      9: { text: "Subdivis√µes: Anatomia Macrosc√≥pica, Microsc√≥pica e do Desenvolvimento." },
      10: { text: "N√≠veis de Organiza√ß√£o e Sistemas do Corpo." },
      11: { text: "Hierarquia Biol√≥gica: Representa√ß√£o visual de √Åtomo, Mol√©cula, Organelas, C√©lula, Tecido, √ìrg√£o e Sistema." },
      12: { text: "M√©todos de Estudo: Anatomia regional, sist√™mica e cl√≠nica. Termos: Tecido, √ìrg√£o." },
      13: { text: "Formas de Estudar: Disseca√ß√£o, Imagens, Modelos, Apalpa√ß√£o e Ausculta√ß√£o." },
      14: { text: "Considera√ß√µes Anat√¥micas: Divis√£o do corpo humano e Posi√ß√£o Anat√¥mica." },
      15: { text: "Posi√ß√£o Anat√¥mica: 1. Cabe√ßa, olhos e dedos dos p√©s voltados anteriormente; 2. Bra√ßos ao lado do corpo com palmas voltadas anteriormente; 3. Membros inferiores pr√≥ximos e p√©s paralelos." },
      16: { text: "Termos de movimento." },
      17: { text: "Din√¢mica: Movimentos ocorrem em planos e eixos espec√≠ficos, envolvendo ossos, m√∫sculos e articula√ß√µes." },
      18: { text: "Planos Anat√¥micos: Transversal (mediano) e Sagital.", links: [{ label: "üéÆ Jogos", url: "https://pinheiro767.github.io/Inicio-anato-2026/", color: "#4caf50" }, { label: "üß™ Teste", url: "https://pinheiro767.github.io/Inicio-anato-2026/", color: "#b366ff" }] },
      19: { text: "Plano Mediano: Divide o corpo humano em lados direito e esquerdo." },
      20: { text: "Plano Sagital: Divide o corpo em duas partes assim√©tricas." },
      21: { text: "Plano Frontal (Coronal): Divide o corpo em partes anterior e posterior." },
      22: { text: "Plano Transverso (Axial): Divide o corpo em partes superior e inferior." },
      23: { text: "Eixos do Corpo Humano: Linhas imagin√°rias que atravessam planos paralelos em torno das quais ocorrem os movimentos." },
      24: { text: "Plano Frontal x Eixo Sagital: Movimentos de Abdu√ß√£o e Adu√ß√£o ocorrem em planos frontais em torno de um eixo antero-posterior." },
      25: { text: "Plano Sagital x Eixo Latero-lateral: Flex√£o e Extens√£o geralmente ocorrem em planos sagitais em torno de um eixo transverso." },
      26: { text: "Plano Transversal x Eixo Longitudinal: Movimentos de rota√ß√£o ocorrem no plano transversal em torno do eixo longitudinal." },
      27: { text: "Gloss√°rio: Flex√£o (diminui √¢ngulo), Abdu√ß√£o/Adu√ß√£o (afasta/aproxima da linha m√©dia), Rota√ß√£o (gira no eixo) e Circunda√ß√£o (movimento circular combinado)." },
      28: { text: "Import√¢ncia: Compreender movimentos √© fundamental para profissionais da sa√∫de e esporte, contribuindo para mobilidade e preven√ß√£o de les√µes." },
      29: { text: "Cortes Anat√¥micos: Principal uso dos planos √© descrever cortes Longitudinais, Obl√≠quos e Transversos." },
      30: { text: "Esquema Visual: Ilustra√ß√µes dos planos Sagital e Transversal." },
      31: { text: "Terminologia Anat√¥mica e Posi√ß√£o Anat√¥mica." },
      32: { text: "Termos de Rela√ß√£o: Superior (Cranial), Inferior (Caudal), Anterior (Ventral), Posterior (Dorsal). Faces Palmar e Plantar." },
      33: { text: "Termos de Compara√ß√£o: Superficial, Interm√©dio e Profundo; Proximal, Distal, Medial e Lateral." },
      34: { text: "Conceito Normal: Caracter√≠sticas anat√¥micas presentes na maioria da popula√ß√£o, consideradas mais frequentes ou comuns." },
      35: { text: "Anomalia: Altera√ß√£o morfol√≥gica que difere do normal, traz preju√≠zo √† fun√ß√£o, mas √© compat√≠vel com a vida (ex: Polidactilia)." },
      36: { text: "Monstruosidade: Altera√ß√£o grave que compromete estruturas vitais e gera preju√≠zo funcional severo, sendo incompat√≠vel com a vida." },
      37: { text: "Hist√≥ria: Freak shows do s√©culo XIX, incluindo Julia Pastrana, irm√£os siameses e o menino parasita." }
    };

    // Inicializar Element SDK
    async function initElement() {
      if (!window.elementSdk) return;
      await window.elementSdk.init({
        defaultConfig,
        onConfigChange: async (newConfig) => {
          config = newConfig;
          document.getElementById('presentation-title').textContent = config.presentation_title || defaultConfig.presentation_title;
        },
        mapToCapabilities: () => ({ recolorables: [], borderables: [], fontEditable: undefined, fontSizeable: undefined }),
        mapToEditPanelValues: (cfg) => new Map([['presentation_title', cfg.presentation_title || defaultConfig.presentation_title]])
      });
    }

    function updateUI() {
      document.getElementById('slide-num').innerText = `${currentSlide} / ${totalSlides}`;
      document.getElementById('note-num').innerText = currentSlide;
      document.getElementById('progress-fill').style.width = (currentSlide / totalSlides) * 100 + "%";
      
      const container = document.getElementById('slide-container');
      container.innerHTML = `<img src="assets/slide${currentSlide}.jpg" class="slide-image" alt="Slide ${currentSlide}" loading="lazy" onerror="this.parentElement.innerHTML='<div class=\\'placeholder\\'><div style=\\'font-size: 2rem; margin-bottom: 1rem;\\'>üìä</div><div>Slide ${currentSlide}</div></div>'">`;
      
      document.getElementById('prev-btn').disabled = currentSlide === 1;
      document.getElementById('next-btn').disabled = currentSlide === totalSlides;

      if(document.getElementById('notes-panel').classList.contains('active')) loadNotes();
    }

    function toggleNotes() { 
      document.getElementById('notes-panel').classList.toggle('active');
      if(document.getElementById('notes-panel').classList.contains('active')) loadNotes();
    }

    function loadNotes() { 
      document.getElementById('notes-text').value = localStorage.getItem(`note-${currentSlide}`) || ""; 
    }

    function extractText() {
      const info = slideData[currentSlide]?.text || `Conte√∫do do Slide ${currentSlide}`;
      const ta = document.getElementById('notes-text');
      ta.value += (ta.value ? "\n\n" : "") + "--- TRANSCRI√á√ÉO SLIDE " + currentSlide + " ---\n" + info;
      localStorage.setItem(`note-${currentSlide}`, ta.value);
    }

    function downloadPDF() {
      const { jsPDF } = window.jspdf;
      const txt = document.getElementById('notes-text').value;
      if(!txt.trim()) {
        alert("Notas vazias! Escreva algo antes de baixar.");
        return;
      }
      const doc = new jsPDF();
      doc.setFontSize(16);
      doc.text(`Aula de Anatomia - Slide ${currentSlide}`, 10, 20);
      doc.setFontSize(11);
      doc.text(txt, 10, 30, { maxWidth: 180 });
      doc.save(`Aula_Anatomia_Slide_${currentSlide}.pdf`);
    }

    function clearNotes() { 
      if(confirm("Tem certeza que deseja limpar as notas deste slide?")) {
        document.getElementById('notes-text').value = ""; 
        localStorage.removeItem(`note-${currentSlide}`);
      }
    }

    function toggleVoice() {
      if(!recognition) {
        const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
        if(!SR) {
          alert("Seu navegador n√£o suporta reconhecimento de voz.");
          return;
        }
        recognition = new SR();
        recognition.lang = 'pt-BR';
        recognition.continuous = true;
        recognition.onresult = (e) => {
          const cmd = e.results[e.results.length-1][0].transcript.toLowerCase();
          if(cmd.includes("pr√≥ximo") || cmd.includes("avan√ßar")) nextSlide();
          if(cmd.includes("anterior") || cmd.includes("voltar")) previousSlide();
        };
      }
      voiceActive ? recognition.stop() : recognition.start();
      voiceActive = !voiceActive;
      const btn = document.getElementById('voice-btn');
      btn.classList.toggle('btn-voice-active');
      btn.classList.toggle('btn-voice-inactive');
    }

    function nextSlide() { if(currentSlide < totalSlides) { currentSlide++; updateUI(); } }
    function previousSlide() { if(currentSlide > 1) { currentSlide--; updateUI(); } }
    
    document.addEventListener('keydown', (e) => { 
      if(e.key === "ArrowRight") nextSlide(); 
      if(e.key === "ArrowLeft") previousSlide();
      if(e.key === "Escape") {
        if(document.getElementById('notes-panel').classList.contains('active')) {
          document.getElementById('notes-panel').classList.remove('active');
        }
      }
    });

    // Salvar notas ao digitar
    document.getElementById('notes-text').addEventListener('change', () => {
      localStorage.setItem(`note-${currentSlide}`, document.getElementById('notes-text').value);
    });

    // Inicializar
    initElement();
    updateUI();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d2317cf10cc2ce9',t:'MTc3MTgxMTY0Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
